<html>

<head>
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">

    // Load the Visualization API and the corechart package.
    google.charts.load('current', { 'packages': ['corechart'] });

    // Set a callback to run when the Google Visualization API is loaded.
    google.charts.setOnLoadCallback(drawChart);

    // Callback that creates and populates a data table,
    // instantiates the pie chart, passes in the data and
    // draws it.
    function drawChart() {

      // Create the data table.
      var data = new google.visualization.DataTable();
      data.addColumn('date', 'Date');
      data.addColumn('number', 'Temperature');
      data.addColumn({ type: 'string', role: 'style' });
      data.addRows([
        "%%fragment%%"
      ]);

      // Set chart options: https://developers.google.com/chart/interactive/docs/gallery/columnchart#configuration-options
      var options = {
        'title': 'Temperature Trend %%period%%',
        titleTextStyle: {
          fontName: 'Roboto',
          fontSize: 18
        },
        tooltip: {
          textStyle: {
            color: 'black',
            fontName: 'Roboto, Arial',
            fontSize: '12'
          }
        },
        chartArea: {
          left: '5%',
          top: 100,
          width: '90%',
          height: 400
        },
        legend: 'none',
        animation: {
          duration: 700,
          easing: 'out',
          startup: true
        },
        bar: {
          groupWidth: "91.2%"
        },
        vAxis: {
          minValue: 0,
          gridlines: {
            color: 'transparent'
          },
          textStyle: {
            color: 'black',
            fontName: 'Roboto, Arial',
            fontSize: 14
          },
        },
        hAxis: {
          format: 'MMM dd',
          gridlines: {
            count: 31,
            color: 'transparent'
          },
          textStyle: {
            color: 'black',
            fontName: 'Roboto, Arial',
            fontSize: 12
          },
          /*slantedText: true,
          slantedTextAngle: 30,*/
          showTextEvery: 2,
          minTextSpacing: 1
        },
        'width': 1400,
        'height': 600
      };

      // Instantiate and draw our chart, passing in some options.
      var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));

      // Wait for the chart to finish drawing before calling the getImageURI() method.
      /*
      google.visualization.events.addListener(chart, 'ready', function () {
        chart_png.innerHTML = '<img src="' + chart.getImageURI() + '">';
        console.log(chart_png.innerHTML);
      });
      */


      chart.draw(data, options);
    }
  </script>
</head>

<body>
  <div id="chart_div"></div>
  <div id="chart_png"></div>
</body>

</html>